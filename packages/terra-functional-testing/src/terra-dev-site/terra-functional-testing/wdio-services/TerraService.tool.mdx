# Terra Service

The Terra service integrates [axe accessibility](https://github.com/dequelabs/axe-core) testing into the test environment. Invoking the axe engine will perform a static analysis of the current document and dom structure. The axe analysis runs accessibility checks against `wcag2a`, `wcag2aa`, `wcag21aa`, and `section508` standards.

## Installation

The Terra service should be installed as a development dependency.

```bash
npm install --save-dev @cerner/terra-functional-testing
```
## Configuration

To use the service it must be added to the services array in the `wdio.conf.js` file.

```js
// wdio.conf.js
const TerraService = require('@cerner/terra-functional-testing/lib/services/wdio-terra-service');

export.config = {
    // ...
    services: [
        [TerraService, {
            // Terra service options here
            // ...
        }]
    ],
    // ...
};
```

## Options

### formFactor

Tests can be executed in a specific form factor by setting the `formFactor` configuration option or the `FORM_FACTOR` environment variable . The form factors can be any of the following supported viewports: `tiny`; `small`; `medium`; `large`; `huge`; `enormous`. In order for the tests to run in this form factor, it must be one that is already specified in the `Terra.describeViewport` block. 

Type: `String`

Required: `false`

Default: `undefined`

Examples:

```js
"FORM_FACTOR=huge npm run test:wdio"
```

```js
// wdio.conf.js
const TerraService = require('@cerner/terra-functional-testing/lib/services/wdio-terra-service');

export.config = {
    // ...
    services: [
        [TerraService, {
          formFactor: 'huge',
        }]
    ],
    // ...
};
```

### theme

An optional theme name that will be used to configure the testing environment. This option will flex the axe-core rules used during testing to account for the current theme.

Type: `string`

Required: `false`

Default: `terra-default-theme`

Example:

```js
// wdio.conf.js
const TerraService = require('@cerner/terra-functional-testing/lib/services/wdio-terra-service');

export.config = {
    // ...
    services: [
        [TerraService, {
          theme: 'terra-theme-name',
        }]
    ],
    // ...
};
```
